{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport infoItem from \"@/services/infoItems\";\nexport var namespaced = true;\nexport var state = {\n  infoItems: []\n};\nexport var getters = {\n  getOfInfoItems: function getOfInfoItems(state) {\n    return state.infoItems.map(function (info) {\n      return {\n        id: info.id,\n        image: info.image,\n        like: info.like,\n        title: info.title,\n        cover: info.cover,\n        trailerUrl: info.trailerUrl\n      };\n    });\n  },\n  getOfInfoItemById: function getOfInfoItemById(state) {\n    return function (id) {\n      return state.infoItems.find(function (infoItem) {\n        return infoItem.id === id;\n      });\n    };\n  },\n  searchResult: function searchResult(state) {\n    return function (search) {\n      if (search) {\n        return state.infoItems.filter(function (infoItem) {\n          return infoItem.title.toLowerCase().includes(search.toLowerCase());\n        });\n      }\n    };\n  }\n};\nexport var mutations = {\n  TOGGLE: function TOGGLE(state, id) {\n    state.infoItems.forEach(function (infoItems) {\n      if (infoItems.id == id) infoItems.like = !infoItems.like;\n    });\n  },\n  SET_INFO_ITEMS: function SET_INFO_ITEMS(state, infoItems) {\n    state.infoItems = infoItems.map(function (info) {\n      return {\n        id: info.id,\n        image: \"http://localhost:1337\".concat(info.attributes.image.data.attributes.url),\n        like: info.attributes.like,\n        title: info.attributes.title,\n        cover: info.attributes.cover,\n        trailerUrl: info.attributes.trailerUrl\n      };\n    });\n  },\n  CLEAR_INFOITEMS: function CLEAR_INFOITEMS(state) {\n    state.infoItems = [];\n  }\n};\nexport var actions = {\n  getAllInfoItem: function getAllInfoItem(_ref) {\n    var commit = _ref.commit,\n        dispatch = _ref.dispatch;\n    infoItem.getData().then(function (response) {\n      // console.log(response);\n      return response.data;\n    }).then(function (data) {\n      commit(\"SET_INFO_ITEMS\", data.data);\n      return data.data;\n    }).catch(function (err) {\n      var notification = {\n        type: \"error\",\n        message: \"It can not fetch any data from api: \" + err.message\n      };\n      dispatch(\"notification/add\", notification, {\n        root: true\n      });\n    });\n  },\n  toggle: function toggle(_ref2, id) {\n    var getters = _ref2.getters,\n        commit = _ref2.commit;\n    var likeState = getters.getOfInfoItemById(id); //console.log(`id is correct ${likeState.like}`);\n\n    infoItem.changeLikeToggle(id, {\n      data: {\n        like: !likeState.like\n      }\n    }).then(function () {\n      commit(\"TOGGLE\", id);\n    });\n  },\n  getTokenAPI: function getTokenAPI() {// const { data } = axios.post(\"http://localhost:1337/api/auth/local\", {\n    //   identifier: \"othman.l.hazim@gmail.com\",\n    //   password: \"q@ed4D?#kRemsY$\",\n    // });\n    //console.log(data);\n  }\n};","map":{"version":3,"names":["infoItem","namespaced","state","infoItems","getters","getOfInfoItems","map","info","id","image","like","title","cover","trailerUrl","getOfInfoItemById","find","searchResult","search","filter","toLowerCase","includes","mutations","TOGGLE","forEach","SET_INFO_ITEMS","attributes","data","url","CLEAR_INFOITEMS","actions","getAllInfoItem","commit","dispatch","getData","then","response","catch","err","notification","type","message","root","toggle","likeState","changeLikeToggle","getTokenAPI"],"sources":["/Users/othmanluqman/Desktop/learn js/shashety-new/src/store/modules/infoItems.js"],"sourcesContent":["import infoItem from \"@/services/infoItems\";\nexport const namespaced = true;\nexport const state = {\n  infoItems: [],\n};\nexport const getters = {\n  getOfInfoItems: (state) => {\n    return state.infoItems.map((info) => {\n      return {\n        id: info.id,\n        image: info.image,\n        like: info.like,\n        title: info.title,\n        cover: info.cover,\n        trailerUrl: info.trailerUrl,\n      };\n    });\n  },\n  getOfInfoItemById: (state) => (id) => {\n    return state.infoItems.find((infoItem) => infoItem.id === id);\n  },\n  searchResult: (state) => (search) => {\n    if( search){\n      return state.infoItems.filter((infoItem) =>\n        infoItem.title.toLowerCase().includes(search.toLowerCase())\n      );\n    }\n  },\n};\nexport const mutations = {\n  TOGGLE: (state, id) => {\n    state.infoItems.forEach((infoItems) => {\n      if (infoItems.id == id) infoItems.like = !infoItems.like;\n    });\n  },\n  SET_INFO_ITEMS(state, infoItems) {\n    state.infoItems = infoItems.map((info) => {\n      return {\n        id: info.id,\n        image: `http://localhost:1337${info.attributes.image.data.attributes.url}`,\n        like: info.attributes.like,\n        title: info.attributes.title,\n        cover: info.attributes.cover,\n        trailerUrl: info.attributes.trailerUrl,\n      };\n    });\n  },\n  CLEAR_INFOITEMS(state) {\n    state.infoItems = [];\n  },\n};\nexport const actions = {\n  getAllInfoItem: ({ commit, dispatch }) => {\n    infoItem\n      .getData()\n      .then((response) => {\n        // console.log(response);\n        return response.data;\n      })\n      .then((data) => {\n        commit(\"SET_INFO_ITEMS\", data.data);\n        return data.data;\n      })\n      .catch((err) => {\n        const notification = {\n          type: \"error\",\n          message: \"It can not fetch any data from api: \" + err.message,\n        };\n        dispatch(\"notification/add\", notification, { root: true });\n      });\n  },\n  toggle: ({ getters, commit }, id) => {\n    let likeState = getters.getOfInfoItemById(id);\n    //console.log(`id is correct ${likeState.like}`);\n    infoItem\n      .changeLikeToggle(id, { data: { like: !likeState.like } })\n      .then(() => {\n        commit(\"TOGGLE\", id);\n      });\n  },\n  getTokenAPI: () => {\n    // const { data } = axios.post(\"http://localhost:1337/api/auth/local\", {\n    //   identifier: \"othman.l.hazim@gmail.com\",\n    //   password: \"q@ed4D?#kRemsY$\",\n    // });\n    //console.log(data);\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}