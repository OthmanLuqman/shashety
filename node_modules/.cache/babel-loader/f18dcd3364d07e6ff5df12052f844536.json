{"ast":null,"code":"import _defineProperty from \"/Users/othmanluqman/Desktop/learn js/shashety-new/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _getters;\n\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nexport default {\n  state: {\n    infoItems: []\n  },\n  getters: (_getters = {\n    getOfInfoItems: function getOfInfoItems(state) {\n      return function (coverState) {\n        return state.infoItems.map(function (info) {\n          return {\n            id: info.id,\n            image: info.image,\n            like: info.like,\n            title: info.title,\n            cover: info.cover\n          };\n        });\n      };\n    }\n  }, _defineProperty(_getters, \"getOfInfoItems\", function getOfInfoItems(state) {\n    return function (coverState) {\n      return state.infoItems.map(function (info) {\n        return function () {\n          if (info.cover === coverState) {\n            return {\n              id: info.id,\n              image: info.image,\n              like: info.like,\n              title: info.title,\n              cover: info.cover\n            };\n          }\n        };\n      });\n    };\n  }), _defineProperty(_getters, \"getOfInfoItemById\", function getOfInfoItemById(state) {\n    return function (id) {\n      return state.infoItems.find(function (infoItem) {\n        return infoItem.id === id;\n      });\n    };\n  }), _getters),\n  mutations: {\n    TOGGLE: function TOGGLE(state, id) {\n      state.infoItems.forEach(function (infoItems) {\n        if (infoItems.id == id) infoItems.like = !infoItems.like;\n      });\n    },\n    SET_INFO_ITEMS: function SET_INFO_ITEMS(state, infoItems) {\n      state.infoItems = infoItems.map(function (info) {\n        return {\n          id: info.id,\n          image: \"http://localhost:1337\".concat(info.attributes.image.data.attributes.url),\n          like: info.attributes.like,\n          title: info.attributes.title,\n          cover: info.attributes.cover\n        };\n      });\n    }\n  },\n  actions: {\n    getAllInfoItem: function getAllInfoItem(_ref) {\n      var commit = _ref.commit;\n      fetch(\"http://localhost:1337/api/posts?populate=image\").then(function (responce) {\n        return responce.json();\n      }).then(function (data) {\n        console.log(data.data);\n        commit(\"SET_INFO_ITEMS\", data.data);\n      });\n    },\n    toggle: function toggle(_ref2, id) {\n      var state = _ref2.state,\n          commit = _ref2.commit;\n      var likeState = state.infoItems.find(function (info) {\n        return info.id === id;\n      });\n      console.log(\"id is correct \".concat(likeState.like));\n      fetch(\"http://localhost:1337/api/posts/\".concat(id), {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          data: {\n            like: !likeState.like\n          }\n        })\n      });\n      commit(\"TOGGLE\", id);\n    },\n    getTokenAPI: function getTokenAPI() {// const { data } = axios.post(\"http://localhost:1337/api/auth/local\", {\n      //   identifier: \"othman.l.hazim@gmail.com\",\n      //   password: \"q@ed4D?#kRemsY$\",\n      // });\n      //console.log(data);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/othmanluqman/Desktop/learn js/shashety-new/src/store/models/infoItems.js"],"names":["state","infoItems","getters","getOfInfoItems","coverState","map","info","id","image","like","title","cover","find","infoItem","mutations","TOGGLE","forEach","SET_INFO_ITEMS","attributes","data","url","actions","getAllInfoItem","commit","fetch","then","responce","json","console","log","toggle","likeState","method","headers","body","JSON","stringify","getTokenAPI"],"mappings":"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","sourcesContent":["export default {\n  state: {\n    infoItems: [],\n  },\n  getters: {\n    getOfInfoItems: (state) => (coverState) => {\n      return state.infoItems.map((info) => {\n          return {\n            id: info.id,\n            image: info.image,\n            like: info.like,\n            title: info.title,\n            cover: info.cover,\n          };\n      });\n    },\n    getOfInfoItems: (state) => (coverState) => {\n      return state.infoItems.map((info) => () => {\n        if (info.cover === coverState) {\n          return {\n            id: info.id,\n            image: info.image,\n            like: info.like,\n            title: info.title,\n            cover: info.cover,\n          };\n        }\n      });\n    },\n    getOfInfoItemById: (state) => (id) => {\n      return state.infoItems.find((infoItem) => infoItem.id === id);\n    },\n  },\n  mutations: {\n    TOGGLE: (state, id) => {\n      state.infoItems.forEach((infoItems) => {\n        if (infoItems.id == id) infoItems.like = !infoItems.like;\n      });\n    },\n    SET_INFO_ITEMS(state, infoItems) {\n      state.infoItems = infoItems.map((info) => {\n        return {\n          id: info.id,\n          image: `http://localhost:1337${info.attributes.image.data.attributes.url}`,\n          like: info.attributes.like,\n          title: info.attributes.title,\n          cover: info.attributes.cover,\n        };\n      });\n    },\n  },\n  actions: {\n    getAllInfoItem: ({ commit }) => {\n      fetch(\"http://localhost:1337/api/posts?populate=image\")\n        .then((responce) => responce.json())\n        .then((data) => {\n          console.log(data.data);\n          commit(\"SET_INFO_ITEMS\", data.data);\n        });\n    },\n    toggle: ({ state, commit }, id) => {\n      let likeState = state.infoItems.find((info) => info.id === id);\n      console.log(`id is correct ${likeState.like}`);\n      fetch(`http://localhost:1337/api/posts/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ data: { like: !likeState.like } }),\n      });\n      commit(\"TOGGLE\", id);\n    },\n    getTokenAPI: () => {\n      // const { data } = axios.post(\"http://localhost:1337/api/auth/local\", {\n      //   identifier: \"othman.l.hazim@gmail.com\",\n      //   password: \"q@ed4D?#kRemsY$\",\n      // });\n      //console.log(data);\n    },\n  },\n};\n"]},"metadata":{},"sourceType":"module"}